# MicroDynamics开发者日志

---
## 2016.7.5

**作者：**<br>
myyerrol<br>

**完成：**<br>
1、完成MicroDynamics团队整体项目的规划工作。<br>
2、确定了GitHub团队组织仓库的基本管理方案。<br>

**计划：**<br>
1、尽快在接下来的几天内完成团队的开发风格指南。<br>
2、学习Qt界面编程，编写出简单的项目界面。<br>

---
## 2016.7.6

**作者：**<br>
maksyuki<br>

**完成：**<br>
1、经过讨论后完成了团队标志的初步设计工作。<br>
2、制定了暑假Breeze无人机嵌入式部分算法设计的开发计划。<br>

**计划：**<br>
1、通过相关书籍和网络来学习STM32开发的基本知识和流程。<br>
2、进一步学习并掌握以PID为基础的控制算法，熟悉无人机飞行相关知识。<br>

---
## 2016.7.6-7.12

**作者：**<br>
myyerrol<br>

**完成：**<br>
1、搞定了团队开发风格指南。<br>
2、完成了Breeze无人机飞行控制站的基础界面设计。<br>

**计划：**<br>
1、配置并优化界面。<br>
2、学习无人机通信协议，尽快把协议整合到Breeze无人机飞行控制站中。<br>

---
## 2016.7.22

**作者：**<br>
myyerrol<br>

**完成：**<br>
1、已将串口协议整合到Breeze无人机飞行控制站中。<br>
2、简化图形界面。<br>

**计划：**<br>
1、配置STM32开发环境。<br>
2、将通信协议添加到STM32代码中。<br>

---
## 2016.7.24

**作者：**<br>
maksyuki<br>

**计划：**<br>
1、深入了解开源飞控算法中关于高度融合部分的代码，进而实现Breeze沿Z轴方向的定高悬停。<br>
2、从整体上把握开源飞控算法在任务调度、执行方面的实现。<br>

---
## 2016.8.12

**作者：**<br>
myyerrol<br>

**完成：**<br>
1、配置完成STM32开发环境。<br>
2、完善STM32开发模板。<br>

**计划：**<br>
1、搜集与PCB设计相关的书籍或资料，开始学习PCB的设计。<br>
2、参考Crazypony的PCB，保持功能不变，只修改外观设计。<br>

---
## 2016.8.13

**作者：**<br>
maksyuki<br>

**完成：**<br>
1、完成飞控算法中相关寄存器的配置和驱动的编写。<br>
2、对于STM32中SPI、IIC总线和PWM驱动进行了相关的测试。<br>

**计划：**<br>
1、实现DMA驱动的编写并实现无人机LED灯语的设计和编程。<br>

---
## 2016.8.23

**作者：**<br>
myyerrol<br>

**完成：**<br>
1、完成Breeze无人机元器件和封装库的设计与配置。<br>
2、画完Breeze无人机原理图。<br>

**困难：**<br>
1、在画原理图的时候，我发现整个系统中存在着很多不同功能的电源。这些电源分布在机体的各处，与很多IC都存在关系。我想这个需要花一些时间来弄明白，因为这对之后PCB中的电源设计是至关重要的。<br>

**计划：**<br>
1、搞定原理图中的电源关系。<br>
2、开始着手设计PCB的布局，并尽快完成最后总体的布线工作。<br>

---
## 2016.8.28

**作者：**<br>
maksyuki<br>

**完成：**<br>
1、完成Breeze无人机飞控算法中所有底层驱动模块的编写并用库函数重写了SPI驱动。<br>
2、实现了NRF24L01无线系统模块的编写，无人机和遥控器可以进行匹配并传送数据<br>

**困难：**<br>
1、在我编写完系统主时钟驱动模块后，想测试一下在系统中断存在的情况下PWM输出驱动电机的情况。结果发现电机在输入值都是10的情况下出现嘶嘶声。开始还觉得是电池电压不够造成的，后来经过多次的烧写和在线调试，发现PWM输出值的范围是100~999。<br>

**计划：**<br>
1、实现系统传感器(IMU、气压计)的初始化操作。<br>
2、优化先前编写的代码。<br>

---
## 2016.9.12

**作者：**<br>
myyerrol<br>

**完成：**<br>
1、搞定部分模块的布局问题。<br>
2、修改元件安全间隔为0.15毫米。<br>

**困难：**<br>
1、在对Breeze无人机进行完第二次PCB布局后，我发现无论我怎样放置模块，都很难将元器件彼此分开。这会导致在布线的时候，PCB上没有足够的空间来走线。<br>

**解决：**<br>
1、适当地在PCB的背面布一部分的元器件模块。<br>

**计划：**<br>
1、完成Breeze无人机剩下模块的布局。<br>
2、尽快进行双面的PCB布线。<br>

---
## 2016.9.19

**作者：**<br>
myyerrol

**完成：**<br>
1、搞定Breeze四轴电机、传感器和电源等模块的PCB布线。<br>
2、修复原理图中的一些错误。<br>

**困难：**<br>
1、在进行PCB布线的时候，我发现KiCad自带的自动布线功能实在是非常有限，而自己使用手工布线问题又非常多。比如信号线的拐弯处成锐角或直角、板子的过孔过多等。<br>

**解决：**<br>
1、经过一段时间的网上搜索，我终于找到了解决方案。问题的解法就是使用KiCad带有的交互式布线功能（这个功能需要先开启对OpenGL的支持）。这种布线模式最大的好处就是可以在布线的时候通过挤压其他导线来自动地处理它们之间的位置关系，从而极大地减少了因导线交叉而使用过孔的问题。而且整条导线根据拐弯处被划分成若干条线段，这样有利于对布线的角度进行精确的修改。<br>

**计划：**<br>
1、尽快完成对PCB剩余模块的布线。<br>
2、拆分原先的原理图，并按照模块进行划分。<br>
